<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Process page</title>
        <link rel="stylesheet" href="./icon/style.css" />
        <link rel="stylesheet" href="./css/styles.css" />
    </head>
    <body>
        <div class="wrapper">
            <div class="header">
                <div class="logo-blk">
                    <img class="logo-blk__img" src="./images/logo.png" />
                    <span class="logo-blk__text">CoralSCOP-LAT</span>
                </div>
            </div>
            <div class="main">
                <nav id="navigation-bar" class="side-bar">
                    <div class="side-bar__main">
                        <ul class="nav-list top">
                            <li class="nav-list__item">
                                <button
                                    id="back-to-main-page-button"
                                    class="nav-list__button"
                                >
                                    <span class="ico-home"></span>
                                    <span class="arrow-tooltip">Home</span>
                                </button>
                            </li>
                            <li class="nav-list__item">
                                <!-- <button
                                    id="gallery-button"
                                    class="nav-list__button"
                                >
                                    <span class="ico-grid"></span>
                                    <span class="arrow-tooltip">Gallery</span>
                                </button> -->
                            </li>
                        </ul>
                    </div>
                </nav>
                <div id="galleryPage" class="main-section page active-page">
                    <div class="main-section__inner">
                        <p class="main-section__title">Upload Images</p>
                        <div class="main-section__content">
                            <div id="drop-container" class="drop-container">
                                <div id="info-text" class="drop-text">
                                    Drop images here. Or select
                                    <button
                                        id="select-link"
                                        class="button select-link"
                                    >
                                        image folder
                                    </button>
                                    containing the images.
                                </div>
                                <input
                                    type="file"
                                    id="file-input"
                                    webkitdirectory
                                    directory
                                    style="display: none"
                                />
                            </div>
                            <template id="gallery-item-template">
                                <label class="gallery-list__item gallery-item">
                                    <input type="checkbox" />
                                    <div class="gallery-item__img-w">
                                        <img class="gallery-item__img" src="" />
                                    </div>
                                    <p class="name gallery-item__name">
                                        <span class="gallery-item__text"
                                            >Image-Name-Sample.jpeg</span
                                        >
                                    </p>
                                </label>
                            </template>
                            <div
                                id="gallery-item-container"
                                class="gallery-list gallery-list--full"
                            ></div>
                            <div id="selected-gallery" class="hidden"></div>
                        </div>
                        <div class="main-section__bottom">
                            <button
                                id="deselect-all-button"
                                class="button button--border"
                            >
                                Deselect All
                            </button>
                            <button
                                id="select-all-button"
                                class="button button--border"
                            >
                                Select All
                            </button>
                            <button
                                id="create-project-button"
                                disabled
                                class="button"
                            >
                                Create
                            </button>
                        </div>
                    </div>
                </div>
                <div id="settingPage" class="main-section page">
                    <div class="main-section__inner">
                        <p class="main-section__title">Setting</p>
                        <p class="main-section__desc">
                            Adjust the settings to carefully filter out any
                            unwanted masks generated by the model, enhancing the
                            accuracy and performance of your results.
                        </p>

                        <div class="main-section__content">
                            <div class="settings-group">
                                <div class="setting-item" id="min-area-block">
                                    <label
                                        id="min-area-text"
                                        for="min-area-slider"
                                        class="setting-item__title"
                                        >Min Area:</label
                                    >
                                    <p class="setting-item__desc">
                                        Filter out the masks that is too small.
                                        (in % of pixel area of the image). Range
                                        (0-20)
                                    </p>
                                    <div class="slider-blk">
                                        <input
                                            id="min-area-input"
                                            type="text"
                                            value="20"
                                        />
                                        <div class="slider-blk__inner">
                                            <input
                                                type="range"
                                                id="min-area-slider"
                                                name="min-area"
                                                min="0"
                                                max="20"
                                                data-suffix="%"
                                                step="0.1"
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <label
                                        id="min-confidence-text"
                                        for="min-confidence-slider"
                                        class="setting-item__title"
                                        >Min Confidence</label
                                    >
                                    <p class="setting-item__desc">
                                        Filter out the masks that is too low
                                        confidence. It can increase the
                                        reliability of the annotation. (in %).
                                    </p>
                                    <div
                                        class="slider-blk"
                                        id="min-confidence-block"
                                    >
                                        <input
                                            id="min-confidence-input"
                                            type="text"
                                            value="100"
                                        />
                                        <div class="slider-blk__inner">
                                            <input
                                                type="range"
                                                id="min-confidence-slider"
                                                name="min-confidence"
                                                min="0"
                                                max="100"
                                                data-suffix="%"
                                                value="100"
                                            />
                                        </div>
                                    </div>
                                </div>

                                <div
                                    class="setting-item"
                                    id="max-overlap-block"
                                >
                                    <label
                                        id="max-overlap-text"
                                        for="max-overlap-slider"
                                        class="setting-item__title"
                                        >Max Overlap</label
                                    >
                                    <p class="setting-item__desc">
                                        Filter out the masks that overlap too
                                        much with other masks. It overlaps is
                                        measured using Intersection over Union
                                        (IoU). (in %).
                                    </p>
                                    <div
                                        class="slider-blk"
                                        id="max-overlap-block"
                                    >
                                        <input
                                            id="max-overlap-input"
                                            type="text"
                                            value="100"
                                        />
                                        <div class="slider-blk__inner">
                                            <input
                                                type="range"
                                                id="max-overlap-slider"
                                                name="max-overlap"
                                                min="0"
                                                max="50"
                                                step="0.1"
                                                data-suffix="%"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="main-section__bottom">
                            <button
                                id="cancel-setting-button"
                                class="save-button button button--border"
                            >
                                Cancel
                            </button>
                            <button
                                id="save-setting-button"
                                class="save-button button"
                            >
                                Save Settings
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="loading-pop" class="loading-pop modal-pop">
                <div class="loading-pop__inner modal-pop__inner">
                    <img
                        class="loading-pop__loading modal-pop__loading"
                        src="./images/loading.svg"
                        alt=""
                    />
                    <p
                        id="loading-percentage"
                        class="loading-pop__number modal-pop__number"
                    ></p>
                    <p
                        id="loading-pop-title"
                        class="loading-pop__lg-text modal-pop__lg-text"
                    >
                        Hold Tight!
                    </p>
                    <p
                        class="loading-pop__text modal-pop__text"
                        id="loading-pop-content"
                    >
                        We're brewing up something amazing. It might take a few
                        minutes, so sit back and relax. Better not to leave this
                        page. Thanks for your patience! 😊
                    </p>
                    <div
                        class="modal-pop__row"
                        id="loading-pop-button-container"
                    ></div>
                </div>
            </div>

            <div id="general-pop" class="modal-pop">
                <div class="modal-pop__inner">
                    <p
                        id="general-pop-large-text"
                        class="modal-pop__lg-text"
                    ></p>
                    <p id="general-pop-text" class="modal-pop__text"></p>
                    <div id="button-container" class="modal-pop__row"></div>
                </div>
            </div>
            <div id="error-pop" class="modal-pop">
                <div class="modal-pop__inner">
                    <p id="error-pop-large-text" class="modal-pop__lg-text"></p>
                    <p id="error-pop-text" class="modal-pop__text"></p>
                    <textarea
                        id="error-pop-textarea"
                        class="model-pop__textarea"
                        readonly
                    ></textarea>
                    <div id="button-container" class="modal-pop__row"></div>
                </div>
            </div>

            <div id="loading-pop-backdrop" class="modal-pop-backdrop"></div>
        </div>

        <script src="/eel.js"></script>
        <script
            type="module"
            src="./js/preprocess/preprocessInterface.js"
        ></script>
    </body>
</html>
